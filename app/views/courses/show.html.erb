<% content_for :title, "Course Details" %>

<div class="max-w-4xl mx-auto p-6">
  <div class="bg-white rounded-lg shadow-md p-8">
    <!-- Course Header -->
    <div class="border-b border-gray-200 pb-6 mb-6">
      <h1 class="text-3xl font-bold text-gray-900 mb-2">
        <%= @course.prefix.code %> <%= @course.number %> - <%= @course.title %>
      </h1>
      <p class="text-gray-600">
        <%= pluralize(@course.credit_hours, 'credit hour') %>
      </p>
    </div>

    <!-- Course Details -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <div>
        <h2 class="text-xl font-semibold text-gray-900 mb-4">Course Information</h2>
        
        <div class="space-y-3">
          <div>
            <span class="font-medium text-gray-700">Prefix:</span>
            <span class="text-gray-900"><%= @course.prefix.code %> - <%= @course.prefix.description %></span>
          </div>
          
          <div>
            <span class="font-medium text-gray-700">Course Number:</span>
            <span class="text-gray-900"><%= @course.number %></span>
          </div>
          
          <div>
            <span class="font-medium text-gray-700">Title:</span>
            <span class="text-gray-900"><%= @course.title %></span>
          </div>
          
          <div>
            <span class="font-medium text-gray-700">Credit Hours:</span>
            <span class="text-gray-900"><%= @course.credit_hours %></span>
          </div>
        </div>
      </div>

      <div>
        <h2 class="text-xl font-semibold text-gray-900 mb-4">Sections</h2>
        <% if @course.sections.any? %>
          <ul class="space-y-2">
            <% @course.sections.each do |section| %>
              <li class="bg-gray-50 rounded-md p-3">
                <%= link_to section.name, section_path(section), 
                    class: "text-blue-600 hover:text-blue-800 font-medium" %>
                <span class="text-gray-500 text-sm">
                  (<%= pluralize(section.students.count, 'student') %>)
                </span>
              </li>
            <% end %>
          </ul>
        <% else %>
          <p class="text-gray-500">No sections created yet.</p>
        <% end %>
      </div>
    </div>

    <!-- Syllabus -->
    <% if @course.syllabus.present? %>
      <div class="mt-8">
        <h2 class="text-xl font-semibold text-gray-900 mb-4">Syllabus</h2>
        <div class="bg-gray-50 rounded-md p-4 prose max-w-none">
          <%= @course.syllabus %>
        </div>
      </div>
    <% end %>

    <!-- Action Buttons -->
    <div class="mt-8 flex flex-wrap gap-3">
      <%= link_to 'Edit Course', edit_course_path(@course), 
          class: "bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors" %>
      <%= link_to 'New Section', new_section_path(course_id: @course.id), 
          class: "bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors" %>
      <%= link_to 'Back to Courses', courses_path, 
          class: "bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors" %>
      <%= link_to 'Delete Course', course_path(@course), method: :delete,
          confirm: 'Are you sure? This will also delete all associated sections.',
          class: "bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors" %>
    </div>
  </div>
</div>