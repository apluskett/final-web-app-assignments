<% content_for :title, "Search" %>

<h1>Search</h1>

<%= form_with url: search_path, method: :get, local: true do |f| %>
  <div>
    <%= f.label :q, "Search" %>
    <%= f.text_field :q, value: params[:q], placeholder: "courses, sections, students, prefixes..." %>
    <%= f.submit "Search" %>
  </div>
<% end %>

<h2>Courses</h2>
<ul>
  <% @courses.each do |c| %>
    <li><%= link_to c.display_name, course_path(c) %> (id: <%= c.id %>)</li>
  <% end %>
</ul>

<h2>Sections</h2>
<ul>
  <% @sections.each do |s| %>
    <li><%= link_to s.name, section_path(s) %> — Course: <%= link_to s.course.display_name, course_path(s.course) %></li>
  <% end %>
</ul>

<h2>Students</h2>
<ul>
  <% @students.each do |s| %>
    <li><%= link_to s.full_name, student_path(s) %> — ID: <%= s.student_id %></li>
  <% end %>
</ul>

<h2>Prefixes</h2>
<ul>
  <% @prefixes.each do |p| %>
    <li><%= link_to p.display_name, prefixes_path %> — <%= pluralize(p.courses.count, 'course') %></li>
  <% end %>
</ul>
